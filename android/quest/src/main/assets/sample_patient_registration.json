{
  "resourceType": "Questionnaire",
  "id": "3435",
  "meta": {
    "versionId": "10",
    "lastUpdated": "2021-12-06T06:33:23.156+00:00",
    "source": "#45323cc12b72339b"
  },
  "language": "en",
  "extension": [ {
    "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
    "valueExpression": {
      "name": "patient",
      "language": "application/x-fhir-query",
      "expression": "Patient"
    }
  } ],
  "name": "Add Patient",
  "title": "Add Patient",
  "status": "active",
  "subjectType": [ "Patient" ],
  "publisher": "ONA",
  "useContext": [ {
    "code": {
      "system": "http://hl7.org/fhir/codesystem-usage-context-type.html",
      "code": "focus"
    },
    "valueCodeableConcept": {
      "coding": [ {
        "system": "http://fhir.ona.io",
        "code": "000003",
        "display": "G6PD Patient"
      } ]
    }
  } ],
  "item": [ {
    "linkId": "bio",
    "type": "group",
    "item": [ {
      "linkId": "PR-name",
      "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.name",
      "text": "Demographic Information",
      "type": "group",
      "item": [ {
        "extension": [ {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
          "valueExpression": {
            "language": "text/fhirpath",
            "expression": "Patient.name.family"
          }
        } ],
        "linkId": "PR-name-family",
        "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.name.family",
        "text": "Surname",
        "type": "string",
        "required": true
      }, {
        "extension": [ {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
          "valueExpression": {
            "language": "text/fhirpath",
            "expression": "Patient.name.given"
          }
        } ],
        "linkId": "PR-name-text",
        "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.name.given",
        "text": "First Name",
        "type": "string",
        "required": true
      } ]
    }, {
      "linkId": "PR-identifier-info",
      "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.identifier",
      "type": "group",
      "item": [ {
        "extension": [ {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
          "valueExpression": {
            "language": "text/fhirpath",
            "expression": "Patient.identifier.value"
          }
        } ],
        "linkId": "PR-identifier-nid",
        "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.identifier.value",
        "text": "National ID Number",
        "type": "string",
        "required": true
      } ]
    }, {
      "extension": [ {
        "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
        "valueExpression": {
          "language": "text/fhirpath",
          "expression": "Patient.gender"
        }
      }, {
        "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation",
        "valueCode": "horizontal"
      } ],
      "linkId": "PR-gender",
      "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.gender",
      "text": "Sex",
      "type": "choice",
      "required": true,
      "answerOption": [ {
        "valueCoding": {
          "code": "female",
          "display": "Female"
        }
      }, {
        "valueCoding": {
          "code": "male",
          "display": "Male"
        }
      } ]
    }, {
      "extension": [ {
        "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation",
        "valueCode": "horizontal"
      } ],
      "linkId": "birth_date_selection",
      "text": "Date of Birth",
      "type": "choice",
      "required": true,
      "answerOption": [ {
        "valueCoding": {
          "code": "date",
          "display": "Date"
        }
      }, {
        "valueCoding": {
          "code": "age",
          "display": "Age"
        }
      } ]
    }, {
      "extension": [ {
        "url": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.age",
        "valueExpression": {
          "language": "text/fhirpath",
          "expression": "Patient.age"
        }
      } ],
      "linkId": "PR-age",
      "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.age",
      "text": "Age (years)",
      "type": "decimal",
      "enableWhen": [ {
        "question": "birth_date_selection",
        "operator": "=",
        "answerCoding": {
          "code": "age"
        }
      } ],
      "required": true
    }, {
      "extension": [ {
        "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
        "valueExpression": {
          "language": "text/fhirpath",
          "expression": "Patient.birthDate"
        }
      } ],
      "linkId": "PR-birth-date",
      "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.birthDate",
      "text": "Date of Birth",
      "type": "date",
      "enableWhen": [ {
        "question": "birth_date_selection",
        "operator": "=",
        "answerCoding": {
          "code": "date"
        }
      } ],
      "required": true
    },
      {
        "linkId": "PR-marital-status",
        "type": "choice",
        "required": true,
        "text": "Marital Status",
        "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.maritalStatus",
        "extension": [
          {
            "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation",
            "valueCode": "horizontal"
          }
        ],
        "answerOption": [
          {
            "valueCoding": {
              "code": "unmarried",
              "display": "Unmarried"
            }
          },
          {
            "valueCoding": {
              "code": "married",
              "display": "Married"
            }
          },
          {
            "valueCoding": {
              "code": "divorced",
              "display": "Divorced"
            }
          },
          {
            "valueCoding": {
              "code": "widowed",
              "display": "Widowed"
            }
          }
        ]
      }, {
        "extension": [ {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationExtract",
          "valueBoolean": true
        } ],
        "linkId": "is_pregnant",
        "code": [ {
          "system": "https://www.snomed.org",
          "code": "146799005",
          "display": "Possible pregnancy"
        } ],
        "text": "Is Pregnant?",
        "type": "boolean",
        "enableWhen": [ {
          "question": "PR-gender",
          "operator": "=",
          "answerCoding": {
            "code": "female"
          }
        } ]
      },
      {
        "linkId": "PR-ethnicity-group",
        "type": "group",
        "text": "Ethnicity",
        "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.extension",
        "extension": [
          {
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
            "valueExpression": {
              "language": "application/x-fhir-query",
              "expression": "Extension"
            }
          }
        ],
        "item": [
          {
            "linkId": "PR-ethnicity-authority",
            "type": "string",
            "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.extension.url",
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                "valueBoolean": true
              }
            ],
            "initial": [
              {
                "valueString": "http://hl7.org/fhir/us/core/StructureDefinition/us-core-ethnicity"
              }
            ]
          },
          {
            "linkId": "PR-ethnicity",
            "type": "choice",
            "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.extension.value",
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation",
                "valueCode": "horizontal"
              }
            ],
            "answerOption": [
              {
                "valueCoding": {
                  "code": "black",
                  "display": "Black"
                }
              },
              {
                "valueCoding": {
                  "code": "white",
                  "display": "White"
                }
              },
              {
                "valueCoding": {
                  "code": "asian",
                  "display": "Asian"
                }
              },
              {
                "valueCoding": {
                  "code": "other",
                  "display": "Other"
                }
              }
            ]
          }
        ]
      },
      {
        "linkId": "PR-occupation-group",
        "type": "group",
        "text": "Occupation",
        "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.extension",
        "extension": [
          {
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
            "valueExpression": {
              "language": "application/x-fhir-query",
              "expression": "Extension"
            }
          }
        ],
        "item": [
          {
            "linkId": "PR-occupation-authority",
            "type": "string",
            "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.extension.url",
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
                "valueBoolean": true
              }
            ],
            "initial": [
              {
                "valueString": "http://hl7.org.nz/fhir/StructureDefinition/current-occupation"
              }
            ]
          },
          {
            "linkId": "PR-occupation",
            "type": "choice",
            "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.extension.value",
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation",
                "valueCode": "horizontal"
              }
            ],
            "answerOption": [
              {
                "valueCoding": {
                  "code": "employed",
                  "display": "Employed"
                }
              },
              {
                "valueCoding": {
                  "code": "self-employed",
                  "display": "Self-Employed"
                }
              },
              {
                "valueCoding": {
                  "code": "unemployed",
                  "display": "Unemployed"
                }
              }
            ]
          }
        ]
      }, {
        "extension": [ {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
          "valueExpression": {
            "language": "text/fhirpath",
            "expression": "Patient.active"
          }
        } ],
        "linkId": "PR-active",
        "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.active",
        "text": "Is Active?",
        "type": "boolean",
        "initial": [ {
          "valueBoolean": true
        } ]
      } ]
  } ]
}