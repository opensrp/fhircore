# Multiple Births

You can manage recording of multiple births through

1. Using complex questionnaires with repeated groups functionality to create block sections that can be repeated for the n-times where n is number of newborns to be registered
2. Using tasking approach that allows you to create mini-tasks for launching a newborn registration questionnaires, each task will represent a new newborn due for registration hence dynamically generating tasks based on total number of newborns

Either of the two options above can be configured to achieve multiple births registration as explored below.

## Using repeated groups

To create  a repeated group questionnaire, you will need to set create a questionnaire item of type `group` with the `repeat` attribute set to true. This approach assumes the following;

- All the questionnaire sections are answered in at once hence combining both pregnancy outcome questions together with newborn registration questions,
- All data required to answer the complex questionnaire is available from the start.

1.  Create a new item of type group in the Questionnaire to hold the newborn registration questions then set the repeats to `true`

```
      "linkId": "9bee02da-a0a0-4e1f-89ba-56d3c68ad765",
      "type": "group",
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-minOccurs",
          "valueInteger": 1
        },
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-maxOccurs",
          "valueInteger": 9
        },
        {
          "url": "http://ehelse.no/fhir/StructureDefinition/repeatstext",
          "valueString": "Add Child"
        }
      ],
      "required": false,
      "repeats": true,
      "text": "Add Child Details",
```

2. You can opt to use a single page questionnaire that scrolls to targeted block sections or alternatively you can use paginated questionnaire

## Using tasking approach

Handling multiple births using the tasking approach requires one to generate child registration tasks using a linked plan definition by defining an evaluation criteria on the activity definition of the linked plan definition.
Using $lite to generate such tasks by linking the correct StructureMap in the action to execute task generation dynamically based on number kids born. A sample plan definition activity definition action is shown below;

```
      {
          "prefix": "new-born-registration",
          "priority": "routine",
          "condition": [
            {
              "kind": "applicability",
              "expression": {
                "language": "text/fhirpath",
                "expression": "fhirpath to evaluate criteria"
              }
            }
          ],
          "definitionCanonical": "#careplan-new-born-registration",
          "transform": "http://hl7.org/fhir/StructureMap/uuid"
        }

```