"use strict";(self.webpackChunkfhircore=self.webpackChunkfhircore||[]).push([[838],{8590:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>l});var t=r(4848),i=r(8453);const s={},d="Indicator Reports",c={id:"engineering/app/configuring/indicator-reports",title:"Indicator Reports",description:"Indicator reports provide a lightweight, configuration-driven approach to generating health metrics without requiring Clinical Quality Language (CQL). This feature enables date-based filtering of FHIR resources using Encounters as the temporal anchor.",source:"@site/docs/engineering/app/configuring/indicator-reports.mdx",sourceDirName:"engineering/app/configuring",slug:"/engineering/app/configuring/indicator-reports",permalink:"/engineering/app/configuring/indicator-reports",draft:!1,unlisted:!1,editUrl:"https://github.com/opensrp/fhircore/tree/main/docs/engineering/app/configuring/indicator-reports.mdx",tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"In-app reporting",permalink:"/engineering/app/configuring/in-app-reporting"},next:{title:"Internationalization",permalink:"/engineering/app/configuring/internationalization"}},a={},l=[{value:"How It Works",id:"how-it-works",level:2},{value:"User Flow",id:"user-flow",level:3},{value:"Technical Flow",id:"technical-flow",level:3},{value:"Date Range Discovery",id:"date-range-discovery",level:3},{value:"Date-Filtered Queries",id:"date-filtered-queries",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Basic Structure",id:"basic-structure",level:3},{value:"Configuration Properties",id:"configuration-properties",level:3},{value:"Indicator Properties",id:"indicator-properties",level:3},{value:"Configuration Patterns",id:"configuration-patterns",level:2},{value:"Pattern 1: Count Patients with Specific Encounters",id:"pattern-1-count-patients-with-specific-encounters",level:3},{value:"Pattern 2: Count Encounters Directly",id:"pattern-2-count-encounters-directly",level:3},{value:"Pattern 3: Count Resources with Date Fields",id:"pattern-3-count-resources-with-date-fields",level:3},{value:"Pattern 4: Patients with Related Resources",id:"pattern-4-patients-with-related-resources",level:3},{value:"Reference Tables",id:"reference-tables",level:2},{value:"Computed Rules",id:"computed-rules",level:3},{value:"Date Prefixes",id:"date-prefixes",level:3},{value:"Operations",id:"operations",level:3},{value:"Resource Date Parameters",id:"resource-date-parameters",level:3},{value:"Reverse Chaining Explained",id:"reverse-chaining-explained",level:2},{value:"How It Works",id:"how-it-works-1",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"indicator-reports",children:"Indicator Reports"})}),"\n",(0,t.jsx)(n.p,{children:"Indicator reports provide a lightweight, configuration-driven approach to generating health metrics without requiring Clinical Quality Language (CQL). This feature enables date-based filtering of FHIR resources using Encounters as the temporal anchor."}),"\n",(0,t.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,t.jsx)(n.h3,{id:"user-flow",children:"User Flow"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"User navigates to Indicator Reports"}),"\n",(0,t.jsx)(n.li,{children:"System queries Encounters to find available date range"}),"\n",(0,t.jsx)(n.li,{children:"User selects a period (month or full year) from the date picker"}),"\n",(0,t.jsx)(n.li,{children:"System calculates indicators for the selected period"}),"\n",(0,t.jsx)(n.li,{children:"Results are displayed with counts"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"technical-flow",children:"Technical Flow"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    A[ReportIndicatorFragment] --\x3e B[DateSelector Screen]\n    B --\x3e C[Query Encounters for Date Range]\n    C --\x3e D[Display Period Picker]\n    D --\x3e E[User Selects Period]\n    E --\x3e F[Calculate Indicators]\n    F --\x3e G[Display Results]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"date-range-discovery",children:"Date Range Discovery"}),"\n",(0,t.jsx)(n.p,{children:"The system automatically discovers available date ranges by querying Encounters:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:'// Find earliest Encounter\nsearch<Encounter> {\n  sort(StringClientParam("date"), Order.ASCENDING)\n  count = 1\n}\n\n// Find latest Encounter\nsearch<Encounter> {\n  sort(StringClientParam("date"), Order.DESCENDING)\n  count = 1\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"This generates a list of months between the earliest and latest Encounter dates, grouped by year. Users can select individual months or entire years."}),"\n",(0,t.jsx)(n.h3,{id:"date-filtered-queries",children:"Date-Filtered Queries"}),"\n",(0,t.jsx)(n.p,{children:"When a month is selected:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"System calculates first and last day of the month"}),"\n",(0,t.jsxs)(n.li,{children:["Dates are added to the ",(0,t.jsx)(n.code,{children:"computedValues"})," map as ",(0,t.jsx)(n.code,{children:"startDate"})," and ",(0,t.jsx)(n.code,{children:"endDate"})]}),"\n",(0,t.jsx)(n.li,{children:"Searches are executed with these date filters applied"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:'computedValues["startDate"] = "2024-01-01"\ncomputedValues["endDate"] = "2024-01-31"\n'})}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"basic-structure",children:"Basic Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "appId": "app",\n  "configType": "reportIndicator",\n  "id": "monthly-health-indicators",\n  "title": "Monthly Health Indicators",\n  "description": "Monthly health service delivery indicators",\n  "indicators": [\n    {\n      "id": "indicator-id",\n      "title": "Indicator Title",\n      "subtitle": "Indicator description",\n      "resourceConfig": {\n        "resource": "ResourceType",\n        "dataQueries": [],\n        "nestedSearchResources": []\n      }\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"configuration-properties",children:"Configuration Properties"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"appId"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Application identifier"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"configType"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsxs)(n.td,{children:["Must be ",(0,t.jsx)(n.code,{children:'"reportIndicator"'})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"id"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Unique identifier for the report"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"title"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Display title for the report"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"description"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Description of the report"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"indicators"})}),(0,t.jsx)(n.td,{children:"Array"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"List of indicator configurations"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"indicator-properties",children:"Indicator Properties"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"id"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Unique identifier for the indicator"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"title"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Display title"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"subtitle"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Additional description"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"resourceConfig"})}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Resource query configuration"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"configuration-patterns",children:"Configuration Patterns"}),"\n",(0,t.jsx)(n.h3,{id:"pattern-1-count-patients-with-specific-encounters",children:"Pattern 1: Count Patients with Specific Encounters"}),"\n",(0,t.jsx)(n.p,{children:"This pattern counts unique patients who had specific types of encounters in the date range."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "id": "anc-patients",\n  "title": "ANC Patients",\n  "subtitle": "Patients with ANC visits this month",\n  "resourceConfig": {\n    "resource": "Patient",\n    "nestedSearchResources": [\n      {\n        "resourceType": "Encounter",\n        "referenceParam": "subject",\n        "dataQueries": [\n          {\n            "paramName": "date",\n            "filterCriteria": [\n              {\n                "dataType": "DATETIME",\n                "computedRule": "startDate",\n                "valueAsDateTime": true,\n                "prefix": "GREATERTHAN_OR_EQUALS"\n              },\n              {\n                "dataType": "DATETIME",\n                "valueAsDateTime": true,\n                "computedRule": "endDate",\n                "prefix": "LESSTHAN_OR_EQUALS"\n              }\n            ],\n            "operation": "AND"\n          },\n          {\n            "paramName": "type",\n            "filterCriteria": [\n              {\n                "dataType": "CODE",\n                "value": {\n                  "system": "http://terminology.hl7.org/CodeSystem/encounter-type",\n                  "code": "anc-visit",\n                  "display": "ANC Visit"\n                }\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"FHIR Search Equivalent:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"GET /Patient?_has:Encounter:subject:period=ge2024-01-01\n  &_has:Encounter:subject:period=le2024-01-31\n  &_has:Encounter:subject:type=anc-visit\n"})}),"\n",(0,t.jsx)(n.h3,{id:"pattern-2-count-encounters-directly",children:"Pattern 2: Count Encounters Directly"}),"\n",(0,t.jsx)(n.p,{children:"This pattern counts encounters of a specific type within the date range."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n      "id": "indicator1",\n      "title": "Number of households",\n      "resourceConfig": {\n        "resource": "Encounter",\n        "dataQueries": [\n          {\n            "paramName": "date",\n            "filterCriteria": [\n              {\n                "dataType": "DATETIME",\n                "valueAsDateTime": true,\n                "computedRule": "startDate",\n                "prefix": "GREATERTHAN_OR_EQUALS"\n              },\n              {\n                "dataType": "DATETIME",\n                "valueAsDateTime": true,\n                "computedRule": "endDate",\n                "prefix": "LESSTHAN_OR_EQUALS"\n              }\n            ],\n            "operation": "AND"\n          },\n          {\n            "paramName": "class",\n            "filterCriteria": [\n              {\n                "dataType": "CODE",\n                "value": {\n                  "code": "HH",\n                  "system": "http://terminology.hl7.org/CodeSystem/v3-ActCode"\n                }\n              }\n            ]\n          }\n        ]\n      }\n    }\n'})}),"\n",(0,t.jsx)(n.h3,{id:"pattern-3-count-resources-with-date-fields",children:"Pattern 3: Count Resources with Date Fields"}),"\n",(0,t.jsx)(n.p,{children:"For resources that have their own date fields (Immunization, Observation):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "id": "immunizations",\n  "title": "Immunizations",\n  "subtitle": "Immunizations administered",\n  "resourceConfig": {\n    "resource": "Immunization",\n    "dataQueries": [\n      {\n        "paramName": "date",\n        "filterCriteria": [\n          {\n            "dataType": "DATETIME",\n            "computedRule": "startDate",\n            "valueAsDateTime": true,\n            "prefix": "GREATERTHAN_OR_EQUALS"\n          },\n          {\n            "dataType": "DATETIME",\n            "computedRule": "endDate",\n            "valueAsDateTime": true,\n            "prefix": "LESSTHAN_OR_EQUALS"\n          }\n        ],\n        "operation": "AND"\n      },\n      {\n        "paramName": "status",\n        "filterCriteria": [\n          {\n            "dataType": "CODE",\n            "value": {\n              "code": "completed"\n            }\n          }\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"pattern-4-patients-with-related-resources",children:"Pattern 4: Patients with Related Resources"}),"\n",(0,t.jsx)(n.p,{children:"Count patients who have specific related resources in the date range:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "id": "immunization-patients",\n  "title": "Immunization Patients",\n  "subtitle": "Children immunized this month",\n  "resourceConfig": {\n    "resource": "Patient",\n    "nestedSearchResources": [\n      {\n        "resourceType": "Immunization",\n        "referenceParam": "patient",\n        "dataQueries": [\n          {\n            "paramName": "date",\n            "filterCriteria": [\n              {\n                "dataType": "DATETIME",\n                "valueAsDateTime": true,\n                "computedRule": "startDate",\n                "prefix": "GREATERTHAN_OR_EQUALS"\n              },\n              {\n                "dataType": "DATETIME",\n                "valueAsDateTime": true,\n                "computedRule": "endDate",\n                "prefix": "LESSTHAN_OR_EQUALS"\n              }\n            ],\n            "operation": "AND"\n          },\n          {\n            "paramName": "status",\n            "filterCriteria": [\n              {\n                "dataType": "CODE",\n                "value": {\n                  "code": "completed"\n                }\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"reference-tables",children:"Reference Tables"}),"\n",(0,t.jsx)(n.h3,{id:"computed-rules",children:"Computed Rules"}),"\n",(0,t.jsx)(n.p,{children:"The following computed rules are automatically available in all indicator configurations:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Rule Name"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Format"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"startDate"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"YYYY-MM-DD"})}),(0,t.jsx)(n.td,{children:"First day of selected month"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"endDate"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"YYYY-MM-DD"})}),(0,t.jsx)(n.td,{children:"Last day of selected month"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"date-prefixes",children:"Date Prefixes"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Prefix"}),(0,t.jsx)(n.th,{children:"Operator"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"GREATERTHAN_OR_EQUALS"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:">="})}),(0,t.jsx)(n.td,{children:"Greater than or equal to (use for start dates)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"LESSTHAN_OR_EQUALS"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"<="})}),(0,t.jsx)(n.td,{children:"Less than or equal to (use for end dates)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"EQUAL"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"="})}),(0,t.jsx)(n.td,{children:"Exact match"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"GREATERTHAN"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:">"})}),(0,t.jsx)(n.td,{children:"Greater than"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"LESSTHAN"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"<"})}),(0,t.jsx)(n.td,{children:"Less than"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"operations",children:"Operations"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Operation"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"AND"})}),(0,t.jsx)(n.td,{children:"All filter criteria must match"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"OR"})}),(0,t.jsx)(n.td,{children:"Any filter criteria can match"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"resource-date-parameters",children:"Resource Date Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Resource"}),(0,t.jsx)(n.th,{children:"Date Parameter"}),(0,t.jsx)(n.th,{children:"Notes"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Encounter"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"period"})}),(0,t.jsx)(n.td,{children:"Primary temporal anchor for most indicators"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Immunization"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"date"})}),(0,t.jsx)(n.td,{children:"Direct date field"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Observation"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"date"})}),(0,t.jsx)(n.td,{children:"Direct date field"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Condition"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"recorded-date"})," or ",(0,t.jsx)(n.code,{children:"onset-date"})]}),(0,t.jsx)(n.td,{children:"Choose based on use case"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Procedure"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"date"})}),(0,t.jsx)(n.td,{children:"Direct date field"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"MedicationRequest"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"authoredon"})}),(0,t.jsx)(n.td,{children:"When prescription was created"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"CarePlan"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"period"})}),(0,t.jsx)(n.td,{children:"Care plan period"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ServiceRequest"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"authored"})}),(0,t.jsx)(n.td,{children:"When request was created"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"reverse-chaining-explained",children:"Reverse Chaining Explained"}),"\n",(0,t.jsxs)(n.p,{children:["Reverse chaining allows you to filter resources based on related resources. This is achieved using the ",(0,t.jsx)(n.code,{children:"nestedSearchResources"})," configuration."]}),"\n",(0,t.jsx)(n.h3,{id:"how-it-works-1",children:"How It Works"}),"\n",(0,t.jsx)(n.p,{children:"When you configure:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "resource": "Patient",\n  "nestedSearchResources": [\n    {\n      "resourceType": "Encounter",\n      "referenceParam": "subject",\n      "dataQueries": [...]\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"The system generates a FHIR search that finds Patients who have related Encounters matching the specified criteria."}),"\n",(0,t.jsx)(n.p,{children:"This is powerful because:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["FHIR resources don't have a standard ",(0,t.jsx)(n.code,{children:"createdAt"})," field"]}),"\n",(0,t.jsxs)(n.li,{children:["Encounters contain the temporal information via ",(0,t.jsx)(n.code,{children:"period"})]}),"\n",(0,t.jsx)(n.li,{children:"You can count unique patients rather than just encounters"}),"\n",(0,t.jsx)(n.li,{children:"Supports complex filtering on related resources"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"When to use Indicator Reports:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Simple resource counting"}),"\n",(0,t.jsx)(n.li,{children:"Monthly service statistics"}),"\n",(0,t.jsx)(n.li,{children:"Quick dashboards"}),"\n",(0,t.jsx)(n.li,{children:"Basic filtering by date/type/status"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>c});var t=r(6540);const i={},s=t.createContext(i);function d(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);