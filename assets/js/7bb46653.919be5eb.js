"use strict";(self.webpackChunkfhircore=self.webpackChunkfhircore||[]).push([[810],{5913:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var i=t(4848),a=t(8453);const s={title:"Sync Strategies"},r=void 0,o={id:"engineering/backend/info-gateway/sync-strategies",title:"Sync Strategies",description:"OpenSRP 2 uses five key data elements in determining how data is synced down from the server. These elements are added to every resource created by the OpenSRP mobile app, enabling precise synchronization. These elements are:",source:"@site/docs/engineering/backend/info-gateway/sync-strategies.mdx",sourceDirName:"engineering/backend/info-gateway",slug:"/engineering/backend/info-gateway/sync-strategies",permalink:"/engineering/backend/info-gateway/sync-strategies",draft:!1,unlisted:!1,editUrl:"https://github.com/opensrp/fhircore/tree/main/docs/engineering/backend/info-gateway/sync-strategies.mdx",tags:[],version:"current",frontMatter:{title:"Sync Strategies"},sidebar:"defaultSidebar",previous:{title:"Practitioner Details",permalink:"/engineering/backend/info-gateway/custom-endpoints/practitioner-details"},next:{title:"Infrastructure setup",permalink:"/engineering/backend/infrastructure-setup"}},c={},d=[{value:"Sync by Practitioner CareTeam",id:"sync-by-practitioner-careteam",level:3},{value:"Sync by Practitioner Team (FHIR Organization)",id:"sync-by-practitioner-team-fhir-organization",level:3},{value:"Sync by Practitioner Location",id:"sync-by-practitioner-location",level:3},{value:"Sync by Related Entity Location",id:"sync-by-related-entity-location",level:3}];function l(e){const n={a:"a",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["OpenSRP 2 uses five key data elements in determining how data is synced down from the server. These elements are ",(0,i.jsx)(n.a,{href:"/engineering/app/datastore/tagging",children:"added"})," to every resource created by the OpenSRP mobile app, enabling precise synchronization. These elements are:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"care-team-tag-id"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"practitioner-tag-id"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"location-tag-id"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"organisation-tag-id"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"related-entity-location-tag-id"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"sync-by-practitioner-careteam",children:"Sync by Practitioner CareTeam"}),"\n",(0,i.jsxs)(n.p,{children:["This strategy syncs data based on the CareTeam that the logged in user (which maps 1-to-1 to a FHIR Practitioner Resource) is assigned to. All resources tagged with the same CareTeam via the ",(0,i.jsx)(n.code,{children:"care-team-tag-id"})," are synced down to the device if the FHIR Practitioner mapping to the logged-in user is assigned to that CareTeam. A sample tag is provided below"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'    {\n      "system": "https://smartregister.org/care-team-tag-id",\n      "code": "47d68cac-306f-4b75-9704-b4ed48b24f76",\n      "display": "Practitioner CareTeam"\n    }\n'})}),"\n",(0,i.jsx)(n.h3,{id:"sync-by-practitioner-team-fhir-organization",children:"Sync by Practitioner Team (FHIR Organization)"}),"\n",(0,i.jsx)(n.p,{children:"This sync strategy is based on the team (FHIR Organization) and syncs resources tied to the specific team (FHIR Organization) associated with the logged user's FHIR Practitioner."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["This sync strategy also includes data from any CareTeams that have the Organization as a ",(0,i.jsx)(n.a,{href:"https://hl7.org/fhir/R4B/careteam-definitions.html#CareTeam.managingOrganization",children:"managing organization"}),". A sample tag is provided below"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'    {\n      "system": "https://smartregister.org/organisation-tag-id",\n      "code": "ca7d3362-8048-4fa0-8fdd-6da33423cc6b",\n      "display": "Practitioner Organization"\n    }\n'})}),"\n",(0,i.jsx)(n.h3,{id:"sync-by-practitioner-location",children:"Sync by Practitioner Location"}),"\n",(0,i.jsx)(n.p,{children:"This sync strategy is based on the FHIR Location and delivers resources tagged with the Location ID of the Location that the logged in user's FHIR Practitioner is assigned to."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["This sync strategy also includes data from all the subordinant locations of the Location that the Practitioner is assigned to (ie if ",(0,i.jsx)(n.code,{children:"Location B.partOf = Location A"})," and we are syncing data from ",(0,i.jsx)(n.code,{children:"Location A"}),", any data assigned to ",(0,i.jsx)(n.code,{children:"Location B"})," is also included). A sample tag is provided below"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'     {\n      "system": "https://smartregister.org/location-tag-id",\n      "code": "ca7d3362-8048-4fa0-8fdd-6da33423cc6b",\n      "display": "Practitioner Location"\n    }\n'})}),"\n",(0,i.jsx)(n.h3,{id:"sync-by-related-entity-location",children:"Sync by Related Entity Location"}),"\n",(0,i.jsx)(n.p,{children:"This strategy uses location information related to other entities (e.g Patient, Family / Group, Service Point), ensuring that data linked to specific locations associated with those entities is synced."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"This sync strategy also includes data from all the child locations linked to the Related Entity Location. A sample tag is provided below"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'    {\n      "system": "https://smartregister.org/related-entity-location-tag-id",\n      "code": "33f45e09-f96e-41d3-9916-fb96455a4cb2",\n      "display": "Related Entity Location"\n    }\n'})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var i=t(6540);const a={},s=i.createContext(a);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);