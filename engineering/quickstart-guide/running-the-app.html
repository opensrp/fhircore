<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-engineering/quickstart-guide/running-the-app" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Running the App | OpenSRP Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://opensrp.github.io/engineering/quickstart-guide/running-the-app"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Running the App | OpenSRP Documentation"><meta data-rh="true" name="description" content="These guides assume you have an existing FHIR Store set up with a typical FHIR Information Gateway connected to a backend Identity and Access Management (IAM) system and transactional FHIR data store with a standard FHIR API."><meta data-rh="true" property="og:description" content="These guides assume you have an existing FHIR Store set up with a typical FHIR Information Gateway connected to a backend Identity and Access Management (IAM) system and transactional FHIR data store with a standard FHIR API."><link data-rh="true" rel="icon" href="/img/opensrp-favicon.png"><link data-rh="true" rel="canonical" href="https://opensrp.github.io/engineering/quickstart-guide/running-the-app"><link data-rh="true" rel="alternate" href="https://opensrp.github.io/engineering/quickstart-guide/running-the-app" hreflang="en"><link data-rh="true" rel="alternate" href="https://opensrp.github.io/engineering/quickstart-guide/running-the-app" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OE0COOL9QP-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="OpenSRP Documentation" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.5a017294.css">
<script src="/assets/js/runtime~main.8b13b724.js" defer="defer"></script>
<script src="/assets/js/main.dda24d89.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/opensrp-logo.png" alt="OpenSRP Documentation" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/opensrp-logo.png" alt="OpenSRP Documentation" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://opensrp.io/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">Home</a><a href="https://opensrp.io/about/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">About</a><a class="navbar__item navbar__link nav-active" href="/">Docs</a><a href="https://opensrp.io/screenshots/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">Screenshots</a><a href="https://opensrp.io/impact/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">Impact</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/project-information">Project Information</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">FEATURES</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/features/app-features">App Features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/features/admin-dashboard-features">Admin Dashboard Features</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/features/supported-health-domains">Supported Domains</a><button aria-label="Expand sidebar category &#x27;Supported Domains&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">ENGINEERING</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/engineering/quickstart-guide/running-the-app">Quickstart Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/engineering/quickstart-guide/running-the-app">Running the App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/engineering/quickstart-guide/server-setup">Running the Backend</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/engineering/app">App</a><button aria-label="Expand sidebar category &#x27;App&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/engineering/admin-dashboard">Admin Dashboard</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/engineering/backend">Backend</a><button aria-label="Expand sidebar category &#x27;Backend&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/engineering/integrations/dhis2">Integrations</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">DESIGN</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/design/introduction">Design</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/design/testing">Testing</a><button aria-label="Expand sidebar category &#x27;Testing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">ENGINEERING</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Quickstart Guide</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Running the App</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Running the App</h1></header><p>These guides assume you have an existing FHIR Store set up with a typical FHIR Information Gateway connected to a backend Identity and Access Management (IAM) system and transactional FHIR data store with a standard FHIR API.</p>
<p>We will go through the example of setting up an electronic immunization registry (EIR) for a community health worker (CHW) expected to use the app. As we go we will note reusable pieces of functionality and at the end we will reference a number of use cases that can be addressed with a similar pattern.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-the-infrastructure">Deploying the infrastructure<a href="#deploying-the-infrastructure" class="hash-link" aria-label="Direct link to Deploying the infrastructure" title="Direct link to Deploying the infrastructure">​</a></h2>
<p>Building a FHIR Core app using OpenSRP FHIRCore requires familiarity with both the OpenSRP platform and the HL7 FHIR (Fast Healthcare Interoperability Resources) standard.
The FHIRCore project, built on OpenSRP, is designed to facilitate the development of healthcare applications that interact with FHIR-compliant data stores. Here’s a step-by-step guide
to help you build a FHIR Core app using this repository:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h3>
<ol>
<li>
<p>Technical Knowledge:</p>
<ul>
<li>Basic understanding of the FHIR standard.</li>
<li>Familiarity with Android development (Java/Kotlin).</li>
<li>Familiarity with Gradle, Docker, and possibly Kubernetes (if you are running OpenSRP in a containerized environment).</li>
</ul>
</li>
<li>
<p>Required Tools:</p>
<ul>
<li>Java Development Kit (JDK 11 or above).</li>
<li>Android Studio.</li>
<li>Git (for cloning the repository).</li>
<li>Docker (optional for local server setup).</li>
</ul>
</li>
<li>
<p>Backend servers:</p>
<ul>
<li>See <a href="/engineering/quickstart-guide/server-setup">Running the backend</a>.</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-custom-app-release">Creating a custom app release<a href="#creating-a-custom-app-release" class="hash-link" aria-label="Direct link to Creating a custom app release" title="Direct link to Creating a custom app release">​</a></h3>
<p>Creating a custom app release is necessary if you want to change the server that your OpenSRP2 app connects with. However, if you have or were already provided an app pointing to the server that you plan to use you can skip this step.</p>
<ol>
<li>Clone the FHIRCore Repository</li>
</ol>
<p>Start by cloning the repository to your local machine.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/opensrp/fhircore.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd fhircore</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>
<p>Set Up Development Environment</p>
<ul>
<li>
<p>Install the latest version of Android Studio and configure the SDK.</p>
</li>
<li>
<p>Open the cloned fhircore project in Android Studio.</p>
</li>
</ul>
</li>
</ol>
<p>Ensure that you have the appropriate Android SDKs installed. The project usually targets SDK 30 (Android 11) or above, so make sure you have this version or later installed in your environment.</p>
<ol start="3">
<li>Build the Project</li>
</ol>
<p>Before you can start working on the app, you will need to sync the project with Gradle to install dependencies and build the project.</p>
<ul>
<li>
<p>Open Android Studio.</p>
</li>
<li>
<p>Navigate to the project folder and open the build.gradle file.</p>
</li>
<li>
<p>Click the Sync Project with Gradle Files button in Android Studio to install dependencies.</p>
</li>
<li>
<p>Update local.properties file by providing the required Keycloak credentials to enable syncing of data to and from the HAPI FHIR server:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#oauth configurations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OAUTH_BASE_URL=https://keycloak-stage.smartregister.org/auth/realms/FHIR_Android/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OAUTH_CLIENT_ID=&quot;provide client id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OAUTH_SCOPE=openid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#fhir store base url</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FHIR_BASE_URL=https://fhir.labs.smartregister.org/fhir/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#sentry dsn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SENTRY_DSN=&lt;https://your/sentry/project/dsn&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Optional: Application id for a specific build variant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#OPENSRP_APP_ID=&quot;app/debug&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<p>Once synced, click on Build &gt; Make Project to compile the code.</p>
<p>For more information read more <a href="https://docs.opensrp.io/engineering/app/developer-setup" target="_blank" rel="noopener noreferrer">here</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-the-reference-content">Deploying the reference content<a href="#deploying-the-reference-content" class="hash-link" aria-label="Direct link to Deploying the reference content" title="Direct link to Deploying the reference content">​</a></h3>
<p>To load into the OpenSRP FHIR Core app on demand, for debug and development, you can create a symbolic link using:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone git@github.com:ona-health/giz-eir-fhir-resources.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># assuming you have checked out fhircore in the same directory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain"> fhircore/android/quest/src/gizeir/assets/configs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ln</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-s</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">`</span><span class="token variable builtin class-name" style="color:#36acaa">pwd</span><span class="token variable" style="color:#36acaa">`</span><span class="token plain">/giz-eir-fhir-resources/app/* fhircore/android/quest/src/gizEir/assets/configs/gizeir</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The app is able to use content for configuration resources from the <code>configs/app/resources</code> directory in the assets directory. Ideally, any FHIR resource can be loaded into
the application through the assets.The current implementation loads the configuration resources declared in the Composition (including Questionnaires, StructureMaps, PlanDefs, Lists, etc) by retrieving them
from the server, which requires the device to be online. This enhancement should allow the user to create config directories for the resources inside <code>/configs/app/resources</code>.
The resources directory name should be in lowercase format e.g. <code>configs/app/resources/binary</code>, <code>configs/app/resources/questionnaire</code>, <code>configs/app/resources/structuremap</code>,
<code>configs/app/resources/plandefinition</code>, etc.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="app-configs">App configs<a href="#app-configs" class="hash-link" aria-label="Direct link to App configs" title="Direct link to App configs">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-guide-config">Implementation Guide Config<a href="#implementation-guide-config" class="hash-link" aria-label="Direct link to Implementation Guide Config" title="Direct link to Implementation Guide Config">​</a></h3>
<p><img decoding="async" loading="lazy" alt="ig config" src="/assets/images/ig-config-a49d226ff47fd7f1c457723ff2bfe0bc.png" width="1494" height="756" class="img_ev3q"></p>
<p>An Implementation Guide (IG) is a document that defines how a specific organization or system uses FHIR resources to solve a particular use case.</p>
<p>Main Structure:</p>
<ul>
<li>
<p>resourceType: &quot;ImplementationGuide&quot;</p>
<ul>
<li>This indicates that the resource type is an Implementation Guide (IG), which provides detailed guidance for how FHIR resources are used in a specific context or implementation.</li>
</ul>
</li>
<li>
<p>id: &quot;13057302&quot;</p>
<ul>
<li>A unique identifier for this specific Implementation Guide.</li>
</ul>
</li>
<li>
<p>meta:</p>
<ul>
<li>This contains metadata about the Implementation Guide.</li>
</ul>
</li>
<li>
<p>versionId: &quot;1&quot; – The version of this IG document.</p>
<ul>
<li>lastUpdated: &quot;2024-05-27T14:42:53.345+00:00&quot; – The date and time when this Implementation Guide was last updated (in ISO 8601 format).</li>
</ul>
</li>
<li>
<p>url: &quot;<a href="https://fhir.eir.smartregister.org/fhir/ImplementationGuide/giz-eir" target="_blank" rel="noopener noreferrer">https://fhir.eir.smartregister.org/fhir/ImplementationGuide/giz-eir</a>&quot;</p>
<ul>
<li>The URL where this Implementation Guide can be accessed. It seems to be hosted at fhir.eir.smartregister.org under the path /fhir/ImplementationGuide/giz-eir.</li>
</ul>
</li>
<li>
<p>version: &quot;1.0.0&quot;</p>
<ul>
<li>The version of the Implementation Guide, indicating it’s the first official release (1.0.0).</li>
</ul>
</li>
<li>
<p>name: &quot;giz-eir&quot;</p>
<ul>
<li>The name of the IG</li>
</ul>
</li>
<li>
<p>title: &quot;GIZ/PATH EIR Implementation Guide&quot;</p>
<ul>
<li>A more descriptive title for the Implementation Guide</li>
</ul>
</li>
<li>
<p>status: &quot;draft&quot;</p>
<ul>
<li>The status of the IG, which is still in a draft state (not finalized or published as an official version).</li>
</ul>
</li>
<li>
<p>date: &quot;2024-05-27&quot;</p>
<ul>
<li>The date when the guide was created or last updated.</li>
</ul>
</li>
<li>
<p>publisher: &quot;Ona Systems, Inc.&quot;</p>
<ul>
<li>This field indicates that the guide was published by Ona Systems, Inc., which is a tech company involved in health system development.</li>
</ul>
</li>
</ul>
<p>Context:</p>
<ul>
<li>
<p>useContext:</p>
<ul>
<li>This section provides contextual information about how or where the Implementation Guide should be used.</li>
</ul>
</li>
<li>
<p>valueRange:</p>
<ul>
<li>This particular useContext seems to suggest a value range with a high value of 11. This could relate to patient age, system thresholds, or another contextual element specific to the EIR.</li>
</ul>
</li>
</ul>
<p>Package and Resource Definitions:</p>
<ul>
<li>
<p>packageId: &quot;org.smartregister.fhircore&quot;</p>
<ul>
<li>This defines the package ID for the IG, which seems to be part of the Smart Register FHIR Core system, likely the underlying framework powering the EIR system.</li>
</ul>
</li>
<li>
<p>definition:</p>
<ul>
<li>This contains definitions for resources included in the Implementation Guide.</li>
</ul>
</li>
<li>
<p>resource:</p>
<ul>
<li>A list of resources referenced by this Implementation Guide.</li>
</ul>
</li>
<li>
<p>reference:</p>
<ul>
<li>This points to a Composition resource (Composition/12965652), which likely contains additional narrative content, instructions, or descriptions related to the IG. The Composition resource is commonly used for documents or structured narratives.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="composition-config">Composition Config<a href="#composition-config" class="hash-link" aria-label="Direct link to Composition Config" title="Direct link to Composition Config">​</a></h3>
<p><img decoding="async" loading="lazy" alt="composition config" src="/assets/images/composition-config-0d0831bb48c9a9d943ca4fb14c263df5.png" width="1494" height="1244" class="img_ev3q"></p>
<p>Core Composition Information</p>
<ul>
<li>
<p>resourceType: &quot;Composition&quot;</p>
<ul>
<li>This indicates that the resource is a FHIR Composition resource, which typically represents a collection of content or sections.</li>
</ul>
</li>
<li>
<p>id: &quot;12965652&quot;</p>
<ul>
<li>A unique identifier for this Composition resource.</li>
</ul>
</li>
<li>
<p>meta:</p>
<ul>
<li>Contains metadata.</li>
</ul>
</li>
<li>
<p>versionId: &quot;22&quot;</p>
<ul>
<li>The current version of this Composition document.</li>
</ul>
</li>
<li>
<p>lastUpdated: &quot;2024-09-10T12:33:34.976+00:00&quot;</p>
<ul>
<li>The timestamp when the Composition was last updated.</li>
</ul>
</li>
<li>
<p>identifier:</p>
<ul>
<li>
<p>use: &quot;official&quot;</p>
<ul>
<li>Indicates that this identifier is an official one.</li>
</ul>
</li>
<li>
<p>value: &quot;giz-eir&quot;</p>
<ul>
<li>The identifier for the GIZ EIR configuration.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>status: &quot;final&quot;</p>
<ul>
<li>
<p>The Composition is marked as final, meaning it’s in a complete and stable state.</p>
</li>
<li>
<p>type:</p>
</li>
<li>
<p>system: &quot;<a href="http://smartregister.org" target="_blank" rel="noopener noreferrer">http://smartregister.org</a>&quot;</p>
<ul>
<li>The system for coding the type of composition.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>code: &quot;1156600005&quot;</p>
<ul>
<li>Code for “Device setting parameter.”</li>
</ul>
</li>
<li>
<p>display: &quot;Device setting parameter&quot;</p>
<ul>
<li>Describes the document as relating to device configuration settings.</li>
</ul>
</li>
<li>
<p>date: &quot;2022-09-16&quot;</p>
<ul>
<li>The date when this Composition was created or finalized.</li>
</ul>
</li>
<li>
<p>title: &quot;Device configurations&quot;</p>
<ul>
<li>The title of the Composition document, which indicates that it holds device configuration settings.</li>
</ul>
</li>
<li>
<p>confidentiality: &quot;L&quot;</p>
<ul>
<li>A confidentiality level of “L,” which usually means low confidentiality (public information).</li>
</ul>
</li>
</ul>
<p>Sections Breakdown</p>
<p>Each section contains a specific configuration for different parts of the application.</p>
<ol>
<li>
<p>Profile Configurations:</p>
<ul>
<li>
<p>Contains various configuration profiles for the Child (e.g., child profile, past and upcoming encounters, adverse reactions) and Caregiver.</p>
</li>
<li>
<p>The focus field references Binary resources that hold the actual configuration data, identified by their IDs and values.</p>
</li>
</ul>
</li>
<li>
<p>Register Configurations:</p>
<ul>
<li>
<p>Specifies register settings for Children and Caregivers.</p>
</li>
<li>
<p>Similar to profiles, the focus references Binary resources that contain register configurations.</p>
</li>
</ul>
</li>
<li>
<p>Translation Configurations:</p>
<ul>
<li>Contains translation settings for English, Spanish, and French. Each of these sections refers to a Binary resource that holds translation strings.</li>
</ul>
</li>
<li>
<p>Application Configuration:</p>
<ul>
<li>Refers to the application configuration, stored in a Binary resource, which likely holds the general app settings.</li>
</ul>
</li>
<li>
<p>Navigation Configuration:</p>
<ul>
<li>Specifies the navigation configuration for the application, also stored in a Binary resource.</li>
</ul>
</li>
<li>
<p>Sync Configuration:</p>
<ul>
<li>Defines the synchronization settings for the application, stored in a Binary resource.</li>
</ul>
</li>
<li>
<p>Health Facility Locations:</p>
<ul>
<li>Refers to a List resource containing health facility locations.</li>
</ul>
</li>
<li>
<p>PlanDefinitions:</p>
<ul>
<li>Provides definitions for care plans, particularly focusing on Child Immunization and Child Recurring Services.</li>
</ul>
</li>
<li>
<p>Questionnaires:</p>
<ul>
<li>Lists several questionnaire configurations related to patient management, such as adding a patient, recording doses, registering filters, and muting/unmuting patients.</li>
</ul>
</li>
<li>
<p>StructureMaps:</p>
<ul>
<li>Specifies mappings for various operations like patient and child registration, dose recording, and adverse event reporting, using StructureMap resources.</li>
</ul>
</li>
<li>
<p>Geo Widget Configurations:</p>
<ul>
<li>Defines the Geo Widget configuration, stored in a Binary resource. This likely deals with mapping or geolocation services within the application.</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="application-config">Application Config<a href="#application-config" class="hash-link" aria-label="Direct link to Application Config" title="Direct link to Application Config">​</a></h3>
<p><img decoding="async" loading="lazy" alt="application config" src="/assets/images/application-config-04fe38a393a75c2b4620cfae38b8f205.png" width="1538" height="1656" class="img_ev3q"></p>
<p>Here’s a detailed breakdown of the various fields in the config:</p>
<ol>
<li>
<p>appId: &quot;giz-eir&quot;</p>
<ul>
<li>This is the unique identifier for the application.</li>
</ul>
</li>
<li>
<p>configType: &quot;application&quot;</p>
<ul>
<li>Specifies the type of configuration; here, it indicates the configuration is for an application.</li>
</ul>
</li>
<li>
<p>theme: &quot;DEFAULT&quot;</p>
<ul>
<li>Defines the UI theme to be used in the application. Here, it’s set to DEFAULT, which probably corresponds to the app’s standard design.</li>
</ul>
</li>
<li>
<p>appTitle: &quot;EIR&quot;</p>
<ul>
<li>The title of the application, which in this case is “EIR” (Electronic Immunization Registry).</li>
</ul>
</li>
<li>
<p>remoteSyncPageSize: 250</p>
<ul>
<li>Specifies the number of records to be fetched or synced from the server at a time during synchronization. Here, it is set to 250 records per sync operation.</li>
</ul>
</li>
<li>
<p>languages: [&quot;en&quot;, &quot;es&quot;, &quot;fr&quot;]</p>
<ul>
<li>The application supports multiple languages, specifically English (en), Spanish (es), and French (fr).</li>
</ul>
</li>
<li>
<p>useDarkTheme: false</p>
<ul>
<li>Indicates whether the app uses a dark theme. This is set to false, so a light theme is used by default.</li>
</ul>
</li>
<li>
<p>syncInterval: 30</p>
<ul>
<li>This specifies how frequently (in minutes) the app will automatically synchronize with the server. In this case, it syncs every 30 minutes.</li>
</ul>
</li>
<li>
<p>syncStrategy: [&quot;CareTeam&quot;]</p>
<ul>
<li>This suggests that the synchronization strategy involves syncing data related to care teams. It might mean that data for care teams, such as patient rosters, are synchronized.</li>
</ul>
</li>
<li>
<p>loginConfig:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;showLogo&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;enablePin&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;pinLength&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<p>This section defines the configuration for the login screen.</p>
<ul>
<li>
<p>&quot;showLogo&quot;: true ensures that a logo is displayed on the login screen.</p>
</li>
<li>
<p>&quot;enablePin&quot;: true allows users to log in using a PIN.</p>
</li>
<li>
<p>&quot;pinLength&quot;: 4 specifies that the PIN should be 4 digits long.</p>
</li>
</ul>
<ol start="11">
<li>
<p>settingsScreenMenuOptions: [&quot;MANUAL_SYNC&quot;, &quot;SWITCH_LANGUAGES&quot;, &quot;RESET_DATA&quot;, &quot;INSIGHTS&quot;]</p>
<ul>
<li>
<p>Defines the menu options available on the settings screen:</p>
</li>
<li>
<p>&quot;MANUAL_SYNC&quot;: Allows users to trigger a manual synchronization.</p>
</li>
<li>
<p>&quot;SWITCH_LANGUAGES&quot;: Provides an option to switch between the supported languages.</p>
</li>
<li>
<p>&quot;RESET_DATA&quot;: Lets users reset the app’s data.</p>
</li>
<li>
<p>&quot;INSIGHTS&quot;: This might be an option to view data insights or reports.</p>
</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sync-config">Sync Config<a href="#sync-config" class="hash-link" aria-label="Direct link to Sync Config" title="Direct link to Sync Config">​</a></h3>
<p><img decoding="async" loading="lazy" alt="sync config" src="/assets/images/sync-config-9e4d3255174b4331afd295d791ea0f70.png" width="1502" height="1656" class="img_ev3q"></p>
<p>This configuration is related to synchronization settings, specifically defining search parameters for resource filtering during FHIR-based data sync operations. Here’s a breakdown of the fields and what they represent:</p>
<p>Main Structure:</p>
<ul>
<li>
<p>resourceType: &quot;Parameters&quot;</p>
<ul>
<li>This indicates that the root resource type is Parameters, which is a FHIR resource type used to pass configuration and operational data in the form of parameters.</li>
</ul>
</li>
<li>
<p>configType: &quot;sync&quot;</p>
<ul>
<li>This specifies that the configuration type is related to data synchronization.</li>
</ul>
</li>
<li>
<p>parameter:</p>
<ul>
<li>This is an array containing search parameters for synchronization. Each element in the array defines a SearchParameter resource that is used to filter data during sync operations. These parameters define which fields or data types are used in the syncing queries.</li>
</ul>
</li>
</ul>
<p>Search Parameters:</p>
<ol>
<li>First Search Parameter: _id</li>
</ol>
<ul>
<li>
<p>resourceType: &quot;SearchParameter&quot;</p>
<ul>
<li>Defines that this is a SearchParameter resource.</li>
</ul>
</li>
<li>
<p>name: &quot;_id&quot;</p>
<ul>
<li>The name of the search parameter is _id. This is likely the unique identifier of each resource (i.e., the resource’s ID).</li>
</ul>
</li>
<li>
<p>code: &quot;_id&quot;</p>
<ul>
<li>The search code is _id, corresponding to the resource’s ID.</li>
</ul>
</li>
<li>
<p>base:</p>
<ul>
<li>
<p>The base field lists the FHIR resource types to which this search parameter applies. In this case, the search parameter can filter by _id on the following resource types:</p>
<ul>
<li>
<p>CarePlan</p>
</li>
<li>
<p>Condition</p>
</li>
<li>
<p>Consent</p>
</li>
<li>
<p>Encounter</p>
</li>
<li>
<p>Group</p>
</li>
<li>
<p>Immunization</p>
</li>
<li>
<p>etc.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol start="2">
<li>Second Search Parameter: count</li>
</ol>
<ul>
<li>
<p>resourceType: &quot;SearchParameter&quot;</p>
<ul>
<li>Defines another search parameter resource.</li>
</ul>
</li>
<li>
<p>name: &quot;count&quot;</p>
<ul>
<li>The name of this search parameter is count. It likely refers to the number of results or records to be returned.</li>
</ul>
</li>
<li>
<p>code: &quot;_count&quot;</p>
<ul>
<li>The code for the search parameter is _count, which limits the number of records returned in a query.</li>
</ul>
</li>
<li>
<p>base:</p>
<ul>
<li>
<p>his search parameter can also apply to the same resource types as _id:</p>
</li>
<li>
<p>CarePlan, Condition, Consent, Encounter, etc.</p>
</li>
<li>
<p>type: &quot;token&quot;</p>
</li>
<li>
<p>The parameter type is token, indicating that the value is expected to be a discrete value like a code, identifier, or string literal.</p>
</li>
</ul>
</li>
<li>
<p>expression: &quot;#count&quot;</p>
<ul>
<li>The expression indicates that the parameter refers to the number of results or “count” of items to be returned during a query. It’s probably used for pagination or limiting the size of the results.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="navigation-config">Navigation Config<a href="#navigation-config" class="hash-link" aria-label="Direct link to Navigation Config" title="Direct link to Navigation Config">​</a></h3>
<p><img decoding="async" loading="lazy" alt="navigation config" src="/assets/images/navigation-config-bcf48b8fbaceaa40e1fc9400a6a0cfb2.png" width="1502" height="1500" class="img_ev3q"></p>
<p>Core Information</p>
<ul>
<li>
<p>appId: &quot;giz-eir&quot;</p>
</li>
<li>
<p>Identifies the application as the GIZ EIR.</p>
</li>
<li>
<p>configType: &quot;navigation&quot;</p>
</li>
<li>
<p>Specifies that this configuration deals with the navigation elements of the app.</p>
</li>
</ul>
<p>Main Action Button Configuration</p>
<ul>
<li>
<p>menuActionButton:</p>
</li>
<li>
<p>id: &quot;mainActionButton&quot;</p>
<ul>
<li>The unique identifier for the main action button in the app.</li>
</ul>
</li>
<li>
<p>visible: true</p>
<ul>
<li>Indicates that this button is visible to users.</li>
</ul>
</li>
<li>
<p>display: <code>&quot;{{ dece90802392bb0289660c633eddd5e4 }}&quot;</code></p>
<ul>
<li>A placeholder or string ID for the text displayed on the button, likely referring to a localized string.</li>
</ul>
</li>
<li>
<p>actions: Defines what happens when the button is clicked:</p>
</li>
<li>
<p>trigger: &quot;ON_CLICK&quot;</p>
<ul>
<li>The action is triggered when the button is clicked.</li>
</ul>
</li>
<li>
<p>workflow: &quot;LAUNCH_QUESTIONNAIRE&quot;</p>
<ul>
<li>Launches a questionnaire when clicked.</li>
</ul>
</li>
<li>
<p>questionnaire: Describes the specific questionnaire that will be launched:</p>
</li>
<li>
<p>id: &quot;13030180&quot;</p>
<ul>
<li>The questionnaire ID.</li>
</ul>
</li>
<li>
<p>title: <code>&quot;{{ dece90802392bb0289660c633eddd5e4 }}&quot;</code></p>
<ul>
<li>The title of the questionnaire, using a localized string placeholder.</li>
</ul>
</li>
<li>
<p>saveButtonText: <code>&quot;{{ c9cc8cce247e49bae79f15173ce97354 }}&quot;</code></p>
<ul>
<li>Text for the save button, also using a localized string.</li>
</ul>
</li>
<li>
<p>groupResource: Defines how to handle group-related data in the questionnaire.</p>
</li>
<li>
<p>groupIdentifier: <code>&quot;@{familyLogicalId}&quot;</code></p>
<ul>
<li>Uses a dynamic value for the group.</li>
</ul>
</li>
<li>
<p>memberResourceType: &quot;Patient&quot; – Specifies that group members are patients.</p>
</li>
<li>
<p>snackBarMessage: A message displayed to users after an action:</p>
</li>
<li>
<p>message: <code>&quot;{{ 8b41faf441db854f6c4066bbbb6837f2 }}&quot;</code></p>
<ul>
<li>The snackbar message, using a localized string.</li>
</ul>
</li>
<li>
<p>actionLabel: &quot;UNDO&quot;</p>
<ul>
<li>Text for the undo button.</li>
</ul>
</li>
<li>
<p>duration: &quot;Short&quot;</p>
<ul>
<li>The duration for which the message is displayed.</li>
</ul>
</li>
<li>
<p>configRules: Defines rules for dynamically configuring the questionnaire.</p>
</li>
<li>
<p>The rule here generates a six-digit human-readable ID.</p>
</li>
<li>
<p>extraParams: Additional parameters to prepopulate the form:</p>
</li>
<li>
<p>paramType: &quot;PREPOPULATE&quot;</p>
<ul>
<li>The type of parameter.</li>
</ul>
</li>
<li>
<p>linkId: <code>&quot;0d77d40f-098b-4329-9199-33b6e77aa864&quot;</code></p>
<ul>
<li>ID of the element in the form to populate.</li>
</ul>
</li>
<li>
<p>dataType: &quot;INTEGER&quot;</p>
<ul>
<li>The type of data.</li>
</ul>
</li>
<li>
<p>key: &quot;opensrpId&quot;</p>
<ul>
<li>The key for the value.</li>
</ul>
</li>
<li>
<p>value: <code>&quot;@{humanReadableId}&quot;</code></p>
<ul>
<li>The dynamically generated value.</li>
</ul>
</li>
<li>
<p>setPractitionerDetails: true</p>
<ul>
<li>Ensures practitioner details are included.</li>
</ul>
</li>
<li>
<p>: true</p>
<ul>
<li>Ensures organization details are included.</li>
</ul>
</li>
</ul>
<p>Client Registers Configuration</p>
<p>This section defines the client registers in the app. Each register has a unique ID, display text, and actions associated with it.</p>
<ol>
<li>
<p>Caregiver Register:</p>
<ul>
<li>id: <code>&quot;caregiverRegister&quot;</code></li>
</ul>
</li>
</ol>
<p>– ID for the caregiver register.</p>
<ul>
<li>display: <code>&quot;{{ 34fc9c26c4ad487a175c2e7b85eb9b6d }}&quot;</code></li>
</ul>
<p>– Localized string for the display text.</p>
<ul>
<li>showCount: true</li>
</ul>
<p>– Indicates that the count of entries will be shown.</p>
<ul>
<li>
<p>menuIconConfig: Specifies the icon for this register:</p>
</li>
<li>
<p>type: &quot;local&quot;</p>
<p>– Refers to a locally stored icon.</p>
</li>
<li>
<p>reference: <code>&quot;ic_baby_mother&quot;</code></p>
<p>– The icon file.</p>
<ul>
<li>
<p>actions: Defines actions related to the register:</p>
</li>
<li>
<p>ON_CLICK: Triggers when the register is clicked, launching the caregiver register.</p>
</li>
<li>
<p>ON_COUNT: Triggers when the count of entries is required.</p>
</li>
</ul>
</li>
</ul>
<ol start="2">
<li>
<p>Child Register:</p>
<ul>
<li>
<p>id: <code>&quot;childRegister&quot;</code></p>
<p>– ID for the child register.</p>
</li>
<li>
<p>display: <code>&quot;{{ 64e4aca4297806247f62a7b5f8cbd3df }}&quot;</code></p>
<p>– Localized string for the display text.</p>
</li>
<li>
<p>showCount: true</p>
<p>– Indicates that the count of entries will be shown.</p>
</li>
<li>
<p>menuIconConfig: Specifies the icon for the child register:</p>
</li>
<li>
<p>type: <code>&quot;local&quot;</code></p>
<ul>
<li>Refers to a locally stored icon.</li>
</ul>
</li>
<li>
<p>reference: <code>&quot;ic_children&quot;</code></p>
<p>– The icon file.</p>
</li>
<li>
<p>actions:</p>
<ul>
<li>
<p>ON_CLICK: Triggers when the register is clicked, launching the child register.</p>
</li>
<li>
<p>ON_COUNT: Triggers when the count of entries is required.</p>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>Static Menu Configuration</p>
<p>This section defines static menu items that are always visible in the app.</p>
<ol>
<li>
<p>Settings Menu:</p>
<ul>
<li>
<p>id: &quot;settings&quot;</p>
<p>– The ID for the settings menu.</p>
</li>
<li>
<p>visible: true</p>
<p>– The menu item is visible to users.</p>
</li>
<li>
<p>display: <code>&quot;{{ f4f70727dc34561dfde1a3c529b6205c }}&quot;</code></p>
<p>– Localized string for the settings label.</p>
</li>
<li>
<p>menuIconConfig: Specifies the icon for the settings menu:</p>
</li>
<li>
<p>type: &quot;local&quot;</p>
<p>– Refers to a locally stored icon.</p>
</li>
<li>
<p>reference: &quot;ic_settings&quot;</p>
<p>– The icon file.</p>
</li>
<li>
<p>actions:</p>
<ul>
<li>ON_CLICK: Triggers the settings workflow when clicked, navigating to the settings screen.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="list-config">List Config<a href="#list-config" class="hash-link" aria-label="Direct link to List Config" title="Direct link to List Config">​</a></h3>
<p><img decoding="async" loading="lazy" alt="location list config" src="/assets/images/list-ca0402bdf1ab3504bea8796e076d75b4.png" width="1436" height="1330" class="img_ev3q"></p>
<p>Core Information</p>
<ul>
<li>
<p>resourceType: &quot;List&quot;</p>
<ul>
<li>Specifies that this is a FHIR List resource.</li>
</ul>
</li>
<li>
<p>id: &quot;0571e685-362e-4d8b-b227-a3678ad5420c-420&quot;</p>
<ul>
<li>The unique identifier for this list.</li>
</ul>
</li>
<li>
<p>meta: Contains metadata about the resource.</p>
</li>
<li>
<p>versionId: &quot;1&quot;</p>
<ul>
<li>The version of this resource.</li>
</ul>
</li>
<li>
<p>lastUpdated: &quot;2024-07-07T19:28:30.567+00:00&quot;</p>
<ul>
<li>Timestamp of the last update to this resource.</li>
</ul>
</li>
<li>
<p>identifier: An official identifier for the list.</p>
</li>
<li>
<p>use: &quot;official&quot;</p>
<ul>
<li>Indicates that this is the official identifier.</li>
</ul>
</li>
<li>
<p>value: &quot;0571e685-362e-4d8b-b227-a3678ad5420c-420&quot;</p>
<ul>
<li>The value of the identifier.</li>
</ul>
</li>
<li>
<p>status: &quot;current&quot;</p>
<ul>
<li>Indicates that the list is active and currently used.</li>
</ul>
</li>
<li>
<p>mode: &quot;working&quot;</p>
<ul>
<li>The mode of the list, indicating that it is actively being worked on or used.</li>
</ul>
</li>
<li>
<p>title: &quot;Health Facility Locations&quot;</p>
<ul>
<li>The title of the list.</li>
</ul>
</li>
<li>
<p>code: Specifies the coding details for the list.</p>
</li>
<li>
<p>coding: A list of coding elements describing the resource:</p>
</li>
<li>
<p>system: &quot;<a href="http://ona.io" target="_blank" rel="noopener noreferrer">http://ona.io</a>&quot;</p>
<ul>
<li>The system that defines the code (in this case, Ona).</li>
</ul>
</li>
<li>
<p>code: &quot;health-facility-locations&quot;</p>
<ul>
<li>The specific code for health facility locations.</li>
</ul>
</li>
<li>
<p>display: &quot;Health Facility Locations&quot;</p>
<ul>
<li>The display text for the code.</li>
</ul>
</li>
<li>
<p>text: &quot;Health Facility Locations&quot;</p>
<ul>
<li>A human-readable description of the list.</li>
</ul>
</li>
</ul>
<p>Entries</p>
<p>This section contains the individual entries or items in the list, each referencing a health facility location. Each entry is represented by an item with a reference to a location resource.</p>
<ul>
<li>item: Each item contains a reference to a specific health facility location in the FHIR Location resource.</li>
<li>Example: &quot;reference&quot;: <code>&quot;Location/1f4c76e1-9734-42d9-b5b8-4b213ee48d45&quot;</code> refers to a health facility with a specific Location resource ID.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="geowidget-config">Geowidget Config<a href="#geowidget-config" class="hash-link" aria-label="Direct link to Geowidget Config" title="Direct link to Geowidget Config">​</a></h3>
<p><img decoding="async" loading="lazy" alt="location config" src="/assets/images/location-config-3cb8fb1f01de57e281dcf06010b2cead.png" width="1496" height="914" class="img_ev3q"></p>
<p>Core Information</p>
<ul>
<li>
<p>appId: &quot;giz-eir&quot;</p>
<ul>
<li>The application ID, likely for a specific healthcare or resource tracking system.</li>
</ul>
</li>
<li>
<p>id: &quot;locationMap&quot;</p>
<ul>
<li>Identifier for this specific widget (in this case, a map).</li>
</ul>
</li>
<li>
<p>configType: &quot;geoWidget&quot;</p>
<ul>
<li>The configuration type is a geo widget, indicating that this component will display geographic or location-based information.</li>
</ul>
</li>
<li>
<p>profileId: &quot;caregiverProfile&quot;</p>
<ul>
<li>Indicates the profile type, likely related to caregivers in this application.</li>
</ul>
</li>
</ul>
<p>Map Layers</p>
<ul>
<li>
<p>mapLayers: A list of available map layers with their activation states:</p>
</li>
<li>
<p>STREET: Active.</p>
</li>
<li>
<p>SATELLITE: Inactive.</p>
</li>
<li>
<p>STREET_SATELLITE: Inactive.</p>
</li>
</ul>
<p>Registration Questionnaire</p>
<ul>
<li>
<p>registrationQuestionnaire: Defines a questionnaire associated with location registration.</p>
</li>
<li>
<p>id: &quot;13030180&quot;</p>
<ul>
<li>
<p>title and saveButtonText: Referencing strings using placeholders (e.g., <code>{{ a3401a36929da1f4e0ee28f9d5d52ba7 }}</code>), likely translated or dynamically inserted text.</p>
</li>
<li>
<p>setPractitionerDetails and setOrganizationDetails: Both set to true, indicating that practitioner and organization details are to be set during registration.</p>
</li>
</ul>
</li>
</ul>
<p>Resource Configuration</p>
<ul>
<li>
<p>resourceConfig: Configuration related to the Location resource.</p>
</li>
<li>
<p>baseResource: Refers to Location, and includes a query to filter locations by type (238497).</p>
</li>
<li>
<p>relatedResources: Describes relationships to other resources:</p>
</li>
<li>
<p>servicePointInventoryItems: A List resource related to the location.</p>
</li>
<li>
<p>availableRelatedPersons: A RelatedPerson resource, tied to the service point.</p>
</li>
<li>
<p>availablePatients: A Patient resource, linked through related persons.</p>
</li>
<li>
<p>availableTasks: A Task resource, linked through patients, used for task tracking (e.g., due or overdue tasks).</p>
</li>
</ul>
<p>Service Point Configuration</p>
<ul>
<li>
<p>servicePointConfig: Defines rules for managing service points, such as:</p>
</li>
<li>
<p>childCount: Calculates the number of children associated with the service point.</p>
</li>
<li>
<p>dueTaskList and overdueTaskList: Filters available tasks by their status (e.g., “ready” or “in-progress”).</p>
</li>
<li>
<p>taskStatus: Determines the status of tasks (e.g., overdue or due).</p>
</li>
<li>
<p>servicePointId, name, locationId, status, type, servicePointType: Various metadata associated with the service point, including the location type, its status, and a service point image.</p>
</li>
<li>
<p>servicePointProperties: Dynamic properties used in the UI for a service point, such as the task status, name, type, and counts of children and tasks.</p>
</li>
</ul>
<p>Summary Bottom Sheet</p>
<ul>
<li>
<p>summaryBottomSheetConfig: Defines a summary view or pop-up that shows detailed information in a card-like layout.</p>
</li>
<li>
<p>Contains compound text (e.g., primary text, font size, color), buttons (e.g., “View Profile”), and actions triggered when the button is clicked (launches a profile view using the caregiverProfile ID).</p>
</li>
</ul>
<p>Display Options</p>
<ul>
<li>
<p>showAddLocation: false</p>
<ul>
<li>Indicates whether the “add location” option is visible.</li>
</ul>
</li>
<li>
<p>showPlaneSwitcher: true</p>
<ul>
<li>Enables switching between map layers (e.g., street, satellite).</li>
</ul>
</li>
<li>
<p>showLocation: true</p>
<ul>
<li>Indicates that locations are visible on the map.</li>
</ul>
</li>
</ul>
<p>Actions</p>
<ul>
<li>
<p>actions: Defines triggers for when a user interacts with the map or specific elements. For example:</p>
</li>
<li>
<p>summaryBottomSheet: When clicked, launches a summary view using parameters like servicePointId.</p>
</li>
</ul>
<p>Top Screen Section</p>
<ul>
<li>
<p>topScreenSection: Contains configuration for the top section of the map screen.</p>
</li>
<li>
<p>title: Placeholder for the screen’s title.</p>
</li>
<li>
<p>searchBar: Visible search bar that allows users to search by name.</p>
</li>
<li>
<p>menuIcons: Contains an icon for service points, and clicking it launches the caregiver register.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="profiles-config">Profiles Config<a href="#profiles-config" class="hash-link" aria-label="Direct link to Profiles Config" title="Direct link to Profiles Config">​</a></h3>
<p>More <a href="http://localhost:3000/engineering/app/configuring/config-types/profile" target="_blank" rel="noopener noreferrer">here</a> on how to configure profiles</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="caregiver-profile-config">Caregiver Profile Config<a href="#caregiver-profile-config" class="hash-link" aria-label="Direct link to Caregiver Profile Config" title="Direct link to Caregiver Profile Config">​</a></h4>
<p><a href="https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/profiles/caregiver_profile_config.json" target="_blank" rel="noopener noreferrer">https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/profiles/caregiver_profile_config.json</a>
<img decoding="async" loading="lazy" alt="caregiver profile" src="/assets/images/caregiver-profile-6bc92230e9caea8262509956cbc7f95a.png" width="1496" height="914" class="img_ev3q"></p>
<p>[TBC]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="child-profile-config">Child Profile Config<a href="#child-profile-config" class="hash-link" aria-label="Direct link to Child Profile Config" title="Direct link to Child Profile Config">​</a></h4>
<p><a href="https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/profiles/child_profile_config.json" target="_blank" rel="noopener noreferrer">https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/profiles/child_profile_config.json</a>
<img decoding="async" loading="lazy" alt="child profile" src="/assets/images/child-profile-ffd195128be802802c8ba20a663fa5d2.png" width="1496" height="914" class="img_ev3q"></p>
<p>[TBC]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="child-upcoming-immunizatiion-profile-config">Child Upcoming Immunizatiion Profile Config<a href="#child-upcoming-immunizatiion-profile-config" class="hash-link" aria-label="Direct link to Child Upcoming Immunizatiion Profile Config" title="Direct link to Child Upcoming Immunizatiion Profile Config">​</a></h4>
<p><a href="https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/profiles/childupcomingencounters_profile_config.json" target="_blank" rel="noopener noreferrer">https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/profiles/childupcomingencounters_profile_config.json</a></p>
<p>[TBC]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="child-past-immunizatiion-profile-config">Child Past Immunizatiion Profile Config<a href="#child-past-immunizatiion-profile-config" class="hash-link" aria-label="Direct link to Child Past Immunizatiion Profile Config" title="Direct link to Child Past Immunizatiion Profile Config">​</a></h4>
<p>[TBC]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="child-past-profile-config">Child Past Profile Config<a href="#child-past-profile-config" class="hash-link" aria-label="Direct link to Child Past Profile Config" title="Direct link to Child Past Profile Config">​</a></h4>
<p><a href="https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/profiles/childpastencounters_profile_config.json" target="_blank" rel="noopener noreferrer">https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/profiles/childpastencounters_profile_config.json</a></p>
<p>[TBC]</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="child-adverse-reaction-profile-config">Child Adverse Reaction Profile Config<a href="#child-adverse-reaction-profile-config" class="hash-link" aria-label="Direct link to Child Adverse Reaction Profile Config" title="Direct link to Child Adverse Reaction Profile Config">​</a></h4>
<p><a href="https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/profiles/childadversereactions_profile_config.json" target="_blank" rel="noopener noreferrer">https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/profiles/childadversereactions_profile_config.json</a></p>
<p>[TBC]</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="register-configs">Register Configs<a href="#register-configs" class="hash-link" aria-label="Direct link to Register Configs" title="Direct link to Register Configs">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="caregiver-register-congig">Caregiver Register Congig<a href="#caregiver-register-congig" class="hash-link" aria-label="Direct link to Caregiver Register Congig" title="Direct link to Caregiver Register Congig">​</a></h4>
<p><img decoding="async" loading="lazy" alt="caregiver register config" src="/assets/images/caregiver-register-e36fe90d2ae1bf7997eeeb656d5c38e2.png" width="1496" height="1204" class="img_ev3q"></p>
<p>Breakdown of the Configuration:</p>
<ol>
<li>
<p>General Information</p>
<ul>
<li>appId: &quot;giz-eir&quot; — The application ID (likely related to a healthcare or resource management app).</li>
<li>configType: &quot;register&quot; — Specifies that this is a registration configuration.</li>
<li>id: &quot;caregiverRegister&quot; — The unique ID for this caregiver registration page.</li>
</ul>
</li>
<li>
<p>FHIR Resource Configuration</p>
<ul>
<li>fhirResource: This section defines the FHIR (Fast Healthcare Interoperability Resources) resource model used in the app.</li>
<li>baseResource: The primary resource is &quot;RelatedPerson&quot;, which seems to represent a caregiver or person linked to a patient.</li>
<li>sortConfigs: The caregiver entries are sorted by their last update date (<code>_lastUpdated</code>) in descending order (newest first).</li>
<li>relatedResources:</li>
<li>availablePatients: A list of Patient resources associated with the RelatedPerson.</li>
<li>availableTasks: A list of Task resources linked to patients (using the subject search parameter). This can represent tasks like appointments, follow-ups, or other responsibilities.</li>
</ul>
</li>
<li>
<p>Register Card</p>
</li>
</ol>
<p>The registerCard contains rules for displaying and managing caregiver information.</p>
<ul>
<li>Rules: The rules extract specific fields from the RelatedPerson and related resources, allowing them to be used in the UI. Examples include:</li>
<li>relatedPersonId, relatedPersonFirstName, relatedPersonMiddleName, relatedPersonLastName: These rules extract personal information like the caregiver’s ID, first name, middle name, and last name.</li>
<li>relatedPersonGender: Determines the gender of the caregiver.</li>
<li>relatedPersonAge: Extracts the caregiver’s age.</li>
<li>formattedRelatedPersonInfo: Combines the first name, last name, gender, and age into a formatted string.</li>
<li>relatedPersonIdentifier: Retrieves the identifier (e.g., ID number) for the caregiver.</li>
<li>numberOfChildren: Calculates the number of children (patients) associated with the caregiver.</li>
<li>visitStatus: Determines the caregiver’s visit status based on the availability of tasks (e.g., “OVERDUE”, “DUE”, “UPCOMING”).</li>
<li>Views: Specifies the UI layout for the caregiver card:</li>
<li>viewType: &quot;COLUMN&quot; — Indicates a columnar layout.</li>
<li>SERVICE_CARD: Displays details of the caregiver such as:</li>
<li>COMPOUND_TEXT: Displays text fields with caregiver information.</li>
<li>serviceButton: A button that shows the number of children associated with the caregiver and their visit status (e.g., OVERDUE, DUE, UPCOMING).
Clicking the button or the card triggers the LAUNCH_PROFILE action to display more details.</li>
</ul>
<ol start="4">
<li>Search Bar</li>
</ol>
<p>The searchBar allows users to search for caregivers using specific fields.</p>
<ul>
<li>visible: true — The search bar is visible.</li>
<li>display: <code>&quot;{{ search.name.or.id }}&quot;</code> — Allows searching by name or ID.</li>
<li>computedRules: Specifies which fields to search:</li>
<li>relatedPersonIdentifier</li>
<li>relatedPersonFirstName</li>
<li>relatedPersonMiddleName</li>
<li>relatedPersonLastName</li>
</ul>
<ol start="5">
<li>Top Screen Section</li>
</ol>
<p>This section defines the UI at the top of the screen.</p>
<ul>
<li>title: Dynamic title using the placeholder <code>&quot;{{ 6a31766a4a17ff69f259bc76f812ecfa }}&quot;</code>.</li>
<li>searchBar: Another search bar specific to locations, with the ability to search by servicePointName.</li>
<li>menuIcons: A list of icons for additional actions:</li>
<li>viewType: &quot;IMAGE&quot; — Specifies an icon image.</li>
<li>actions: Clicking this icon triggers the LAUNCH_MAP action, opening the map view (locationMap).</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="child-register-congig">Child Register Congig<a href="#child-register-congig" class="hash-link" aria-label="Direct link to Child Register Congig" title="Direct link to Child Register Congig">​</a></h4>
<p><img decoding="async" loading="lazy" alt="child register config" src="/assets/images/child-register-547ab4d16903fca5a0929841ce17dad8.png" width="1538" height="1656" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="scheduling--tasking">Scheduling &amp; tasking<a href="#scheduling--tasking" class="hash-link" aria-label="Direct link to Scheduling &amp; tasking" title="Direct link to Scheduling &amp; tasking">​</a></h2>
<p>In an offline-first community health application, scheduling and tasking refer to systems and processes used to manage appointments, follow-ups, and task assignments for healthcare workers and community health programs. These features are designed to work seamlessly in environments with intermittent or no internet access, ensuring that healthcare activities continue without disruption. Here’s a breakdown of each concept:</p>
<ol>
<li>Scheduling in an Offline-First Community Health Application</li>
</ol>
<p>Scheduling involves planning and organizing patient visits, consultations, or any healthcare-related appointments. In an offline-first application, it requires the following components:</p>
<p>Features:</p>
<ul>
<li><strong>Appointment Booking</strong>: Health workers can schedule appointments with patients for home visits, checkups, immunizations, or follow-up care. These appointments are saved locally and synchronized with the central server once connectivity is restored.</li>
<li><strong>Calendar and Reminders</strong>: The app provides a calendar view of upcoming appointments and sends reminders (either through notifications or on-screen prompts) to healthcare workers about scheduled visits.</li>
<li><strong>Recurrence &amp; Follow-Up Visits</strong>: Many community health activities require regular follow-ups (e.g., maternal health visits, chronic disease management). The app allows scheduling of recurring appointments with automatic reminders.</li>
<li><strong>Task and Visit Status Tracking</strong>: Scheduled tasks (such as immunizations or wellness checks) are tracked by status: completed, overdue, upcoming, or in-progress. Health workers can update task status offline, and this data syncs when the app reconnects.</li>
</ul>
<p>Offline-first Considerations:</p>
<ul>
<li><strong>Local Data Storage</strong>: Scheduling and appointment data are stored locally on the health worker’s device so they can access patient schedules and update visit details even without internet.</li>
<li><strong>Automatic Sync</strong>: When internet connectivity is restored, the app automatically syncs appointments and scheduling data with a central database.</li>
</ul>
<ol start="2">
<li>Tasking in an Offline-First Community Health Application</li>
</ol>
<p>Tasking refers to assigning and tracking healthcare-related tasks that health workers must perform in the community, such as patient checkups, vaccination campaigns, or health education.</p>
<p>Features:</p>
<ul>
<li><strong>Task Assignment</strong>: Health workers are assigned tasks by supervisors or the health management system. These tasks can include patient visits, data collection, or specific treatments. Tasks are stored locally and synced with the central system later.</li>
<li><strong>Task Types</strong>: Tasks can be varied, including:<!-- -->
<ul>
<li><strong>Clinical tasks</strong>: Conducting patient assessments, administering medication, vaccinations.</li>
<li><strong>Non-clinical tasks</strong>: Collecting health data, providing health education, monitoring chronic illnesses.</li>
</ul>
</li>
<li><strong>Task Prioritization and Status</strong>: Tasks can be prioritized as high, medium, or low, and can be marked as completed, in-progress, or overdue by the health worker. This allows for better time management and resource allocation in low-connectivity areas.</li>
<li><strong>Dynamic Task Updates</strong>: In some cases, tasks may change based on patient outcomes or additional needs identified during visits. Health workers can update task details offline, and the system will push these updates once connectivity is restored.</li>
<li><strong>Team Collaboration</strong>: In larger teams, task assignments can be distributed among multiple health workers. Task progress is tracked so that health supervisors can monitor the completion of assignments once sync is completed.</li>
</ul>
<p>Offline-first Considerations:</p>
<ul>
<li><strong>Task Creation &amp; Assignment Offline</strong>: Health workers can receive new tasks even while offline, either through pre-downloaded updates or user-defined task generation (e.g., scheduling a follow-up visit).</li>
<li><strong>Local Task Management</strong>: Tasks are stored on the health worker’s device, and they can update task progress (such as marking it complete) without needing real-time connectivity.</li>
<li><strong>Synchronization</strong>: When connectivity is re-established, the app syncs task completion, updates, and any newly assigned tasks with the main server. This ensures that tasks completed in offline mode are recognized centrally.</li>
</ul>
<p>Supporting Tasking using a PlanDefinition resource in FHIR</p>
<p>In FHIR (Fast Healthcare Interoperability Resources), PlanDefinition is a core resource used to describe workflows, protocols, or plans for healthcare activities, including scheduling and task management. A PlanDefinition supports the definition of various tasks and schedules that healthcare workers follow in community health applications. Here’s how PlanDefinition supports offline-first scheduling and tasking in such applications:</p>
<ol>
<li>
<p>Defining Workflows and Care Plans with PlanDefinition</p>
<p>•	PlanDefinition in FHIR is used to define a blueprint for care delivery workflows and task management.</p>
<p>•	It can outline tasks, actions, and schedules that healthcare workers need to follow. This can be particularly useful in creating reusable care plans, such as maternal care, child immunization campaigns, or chronic disease monitoring.</p>
</li>
<li>
<p>Using PlanDefinition for Scheduling</p>
<p>•	PlanDefinition can define schedules for specific healthcare activities. The action element within a PlanDefinition specifies a sequence of activities, including scheduling appointments and follow-ups.</p>
<p>•	Each action can include timing rules (using timing[x]), recurrence patterns (for follow-up visits), and conditions for triggering the task.</p>
<p>•	In offline-first systems, these schedules are defined and stored on the local device, allowing healthcare workers to access them even without connectivity.</p>
</li>
<li>
<p>Tasking with PlanDefinition</p>
<p>•	PlanDefinition supports task management by detailing specific tasks that healthcare workers must perform during a workflow.</p>
<p>•	A PlanDefinition can include multiple action elements, where each action represents a task (e.g., administer a vaccine, collect data, monitor vitals).</p>
<p>•	Tasks can also have dependencies, where certain tasks are triggered based on the completion or outcome of previous tasks.</p>
<p>•	The tasks can be configured to change dynamically based on patient outcomes or new needs that arise during care delivery.</p>
</li>
<li>
<p>Handling Offline Synchronization</p>
<p>•	When the healthcare worker is offline, all scheduling and task-related data (defined by the PlanDefinition) are stored locally.</p>
<p>•	Once the healthcare worker regains connectivity, the app synchronizes the task progress, updates, and scheduling changes to the server.</p>
<p>•	This synchronization ensures that both the local app and central server have consistent data, allowing healthcare supervisors to monitor care delivery even in remote or low-connectivity regions.</p>
</li>
<li>
<p>Using PlanDefinition with Other FHIR Resources</p>
<p>•	PlanDefinition often works in combination with other FHIR resources to support scheduling and tasking:</p>
<ul>
<li>
<p>Task: Used to track the execution of actions defined in a PlanDefinition.</p>
</li>
<li>
<p>CarePlan: Represents an individualized plan of care for a patient, using PlanDefinition as a template.</p>
</li>
<li>
<p>ServiceRequest: Represents a request for a service to be performed (e.g., a lab test, a procedure) as part of a task.</p>
</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="child-immunization">Child Immunization<a href="#child-immunization" class="hash-link" aria-label="Direct link to Child Immunization" title="Direct link to Child Immunization">​</a></h3>
<p>The PlanDefinition resource in FHIR defines several immunization-related activities for child immunization. Each ActivityDefinition outlines specific tasks, including the administration of vaccines, detailing the type of vaccine, schedule, and responsible parties.</p>
<p>Example of scheduling with PlanDefinition:</p>
<p><img decoding="async" loading="lazy" alt="immunization config" src="/assets/images/immunization-pd-b1bcee16fa23e1f89f25a65b19f2d2cf.png" width="1498" height="1700" class="img_ev3q"></p>
<p>Reference PlanDefinition can  be found <a href="https://github.com/ona-health/giz-eir-fhir-resources/blob/main/plan_definition/child_immunizations.fhir.json" target="_blank" rel="noopener noreferrer">here</a></p>
<p>General Setup (First Activity) - &quot;Child Register Handler Activity&quot;:</p>
<p>This activity handles the initial setup of a care plan when a child is registered.
It dynamically sets attributes like title, description, status, and care plan start and end dates based on the child&#x27;s birthdate.
The activity also assigns a general practitioner as the performer and sets up an ongoing task to manage the care plan.
Specific Immunization Tasks: Each subsequent <code>ActivityDefinition</code> outlines a different immunization task:</p>
<ol>
<li>BCG Immunization: Administered shortly after birth, with a booster scheduled later.</li>
<li>OPV (Oral Poliovirus Vaccine): Multiple doses scheduled at various weeks (6, 10, and 14 weeks).</li>
<li>PENTA Immunization: Similar to OPV with a series of three doses, followed by a booster.</li>
<li>ROTA Immunization: Administered in a two-dose series for protection against rotavirus.</li>
<li>PCV (Pneumococcal Vaccine): Three doses to protect against pneumococcal infections, with a booster.</li>
<li>IPV (Inactivated Poliovirus Vaccine): Single dose of inactivated polio vaccine.</li>
<li>Measles Immunization: Scheduled at 9 months and then a booster at 18 months.</li>
</ol>
<p>For each immunization, the <code>ActivityDefinition</code> includes:</p>
<ul>
<li>Status: <code>&quot;active&quot;</code> indicating the task is currently in progress.</li>
<li>Description: Provides a short description of the immunization.</li>
<li>Kind: Indicates the task type (in this case, all are &quot;Task&quot;).</li>
<li>Coding: Maps the immunization to a specific procedure code.</li>
<li>Dosage Information: Specifies the sequence of doses, timing, and intervals for each vaccine.</li>
</ul>
<p>These definitions help automate the creation and management of a child&#x27;s immunization schedule within a care plan in FHIR-based healthcare systems.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="child-recurring-services">Child Recurring Services<a href="#child-recurring-services" class="hash-link" aria-label="Direct link to Child Recurring Services" title="Direct link to Child Recurring Services">​</a></h3>
<p>Key Components:</p>
<p>Contained Activity Definitions: These are activities defined within the care plan for various recurring services for children.</p>
<ol>
<li><code>careplan-init-activity</code>: Initializes the care plan when the child is registered, pulling dynamic values (such as the child’s ID and birthdate) to populate the CarePlan resource.</li>
<li><code>careplan-vita-ifc-task-activity</code>: Specifies the administration of Vitamin A IFC service, scheduled every 6 months.</li>
<li><code>careplan-vita-task-activity</code>: Another Vitamin A service scheduled more frequently, with 10 occurrences over a period of 6 months each.</li>
<li><code>careplan-deworming-task-activity</code>: Defines the deworming service, administered every 6 months, recurring 9 times.</li>
<li><code>careplan-itn-task-activity</code>: Specifies the ITN (Insecticide-treated net) service, provided every 6 months, up to 5 times.</li>
</ol>
<p>Dynamic Values: In the careplan-init-activity, FHIRPath expressions are used to dynamically set values in the care plan based on the child’s details. For instance:</p>
<ul>
<li>The title and description of the care plan are set to the values from the root resource.</li>
<li>The care plan’s start period is set to the child’s birthdate, and the end period is calculated to be approximately 11 years later (4017 days).</li>
<li>The author and performer of the activities are based on the first general practitioner assigned to the child.</li>
</ul>
<p>Scheduled Services:</p>
<ul>
<li>Timing and Dosage: Each ActivityDefinition for services like Vitamin A, Deworming, and ITN provides the timing details of when the service is administered. This includes how many times the service is repeated (e.g., every 6 months).</li>
<li>Status and Kind: All activities are marked as active, with the kind set to Task, indicating that these are recurring, scheduled services.</li>
</ul>
<p>This structure automates the generation of a child’s recurring care plan, ensuring that essential health services are administered at appropriate intervals.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="recording-vaccinations">Recording vaccinations<a href="#recording-vaccinations" class="hash-link" aria-label="Direct link to Recording vaccinations" title="Direct link to Recording vaccinations">​</a></h3>
<p>Recording vaccinations, and in some usecases routine/recurring child services, is a key components of an immunization app.</p>
<p>[TBC]</p>
<!-- -->
<img src="/assets/images/child-profile-57c33a9165f73316f6e7fd25361ff557.png" style="width:250px">
<!-- -->
<img src="/assets/images/immunization-form-fb0ee71d78c0a7c76567d762784efbe5.png" style="width:250px">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="multi-language-support">Multi-Language Support<a href="#multi-language-support" class="hash-link" aria-label="Direct link to Multi-Language Support" title="Direct link to Multi-Language Support">​</a></h2>
<p>[TBC]</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-language-strings-files">Multi Language strings files<a href="#multi-language-strings-files" class="hash-link" aria-label="Direct link to Multi Language strings files" title="Direct link to Multi Language strings files">​</a></h3>
<p><img decoding="async" loading="lazy" alt="english trnslations config" src="/assets/images/strings-en-c356cd36df6bd53dd41405570b78e08d.png" width="1538" height="1656" class="img_ev3q">
<img decoding="async" loading="lazy" alt="spanish trnslations config" src="/assets/images/strings-es-61166838d9083d9d9704be532b6411ab.png" width="1538" height="1656" class="img_ev3q"></p>
<p><a href="https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/translations/strings_config.properties" target="_blank" rel="noopener noreferrer">https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/translations/strings_config.properties</a>
<a href="https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/translations/strings_es_config.properties" target="_blank" rel="noopener noreferrer">https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/translations/strings_es_config.properties</a>
<a href="https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/translations/strings_fr_config.properties" target="_blank" rel="noopener noreferrer">https://github.com/ona-health/giz-eir-fhir-resources/blob/main/app/translations/strings_fr_config.properties</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-and-adapting-the-content">Configuration and adapting the content<a href="#configuration-and-adapting-the-content" class="hash-link" aria-label="Direct link to Configuration and adapting the content" title="Direct link to Configuration and adapting the content">​</a></h2>
<p>[TBC]</p>
<p><strong>Example on how to Load a questionnaire from assets folder</strong></p>
<ol>
<li>
<p>Create a new file e.g. <code>config/app/resources/questionnaire/register_caregiver.json</code></p>
</li>
<li>
<p>Update the questionnaire content</p>
</li>
<li>
<p>Make sure the Questionnaire ID (<code>13030180</code>)is similar to the on referenced in the Naviagtion config or the Primary register (in this case Caregiver Register)</p>
</li>
</ol>
<p><img decoding="async" loading="lazy" alt="questionnaire config" src="/assets/images/questionnaire_config-8db6624b24c98cb29670b27be6fb6004.png" width="1498" height="1700" class="img_ev3q"></p>
<ol start="4">
<li>
<p>Login to the app using <code>app/debug</code></p>
</li>
<li>
<p>Click on Household register</p>
</li>
<li>
<p>Click on add household from the side navigation or configured fab</p>
</li>
<li>
<p>Observe the questionnaire updated</p>
</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/opensrp/fhircore/tree/main/docs/engineering/quickstart-guide/running-the-app.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/features/supported-health-domains/immunization"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Immunization</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/engineering/quickstart-guide/server-setup"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Running the Backend</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#deploying-the-infrastructure" class="table-of-contents__link toc-highlight">Deploying the infrastructure</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#creating-a-custom-app-release" class="table-of-contents__link toc-highlight">Creating a custom app release</a></li><li><a href="#deploying-the-reference-content" class="table-of-contents__link toc-highlight">Deploying the reference content</a></li></ul></li><li><a href="#app-configs" class="table-of-contents__link toc-highlight">App configs</a><ul><li><a href="#implementation-guide-config" class="table-of-contents__link toc-highlight">Implementation Guide Config</a></li><li><a href="#composition-config" class="table-of-contents__link toc-highlight">Composition Config</a></li><li><a href="#application-config" class="table-of-contents__link toc-highlight">Application Config</a></li><li><a href="#sync-config" class="table-of-contents__link toc-highlight">Sync Config</a></li><li><a href="#navigation-config" class="table-of-contents__link toc-highlight">Navigation Config</a></li><li><a href="#list-config" class="table-of-contents__link toc-highlight">List Config</a></li><li><a href="#geowidget-config" class="table-of-contents__link toc-highlight">Geowidget Config</a></li><li><a href="#profiles-config" class="table-of-contents__link toc-highlight">Profiles Config</a></li><li><a href="#register-configs" class="table-of-contents__link toc-highlight">Register Configs</a></li></ul></li><li><a href="#scheduling--tasking" class="table-of-contents__link toc-highlight">Scheduling &amp; tasking</a><ul><li><a href="#child-immunization" class="table-of-contents__link toc-highlight">Child Immunization</a></li><li><a href="#child-recurring-services" class="table-of-contents__link toc-highlight">Child Recurring Services</a></li><li><a href="#recording-vaccinations" class="table-of-contents__link toc-highlight">Recording vaccinations</a></li></ul></li><li><a href="#multi-language-support" class="table-of-contents__link toc-highlight">Multi-Language Support</a><ul><li><a href="#multi-language-strings-files" class="table-of-contents__link toc-highlight">Multi Language strings files</a></li></ul></li><li><a href="#configuration-and-adapting-the-content" class="table-of-contents__link toc-highlight">Configuration and adapting the content</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensrp.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">OpenSRP<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ona.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ona<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Ona Systems</div></div></div></footer></div>
</body>
</html>